<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basic usage of ARCOS • ARCOS</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Basic usage of ARCOS">
<meta property="og:description" content="ARCOS">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ARCOS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ARCOS-basics.html">Basic usage of ARCOS</a>
    </li>
    <li>
      <a href="../articles/ARCOS-binTimeseries.html">Pre-processing time-series for ARCOS</a>
    </li>
    <li>
      <a href="../articles/ARCOS-bootstrapping.html">Collective events in synthetic data with bootstrapping</a>
    </li>
    <li>
      <a href="../articles/ARCOS-synthRand2D.html">Detect synthetic random collective events</a>
    </li>
    <li>
      <a href="../articles/ARCOS-synthRasterImages.html">Detect collective events from images</a>
    </li>
    <li>
      <a href="../articles/ARCOS-unitTests.html">ARCOS demo of unit tests</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dmattek/ARCOS/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Basic usage of ARCOS</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dmattek/ARCOS/blob/HEAD/vignettes/ARCOS-basics.Rmd" class="external-link"><code>vignettes/ARCOS-basics.Rmd</code></a></small>
      <div class="hidden name"><code>ARCOS-basics.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dmattek/ARCOS" class="external-link">ARCOS</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://eliocamp.github.io/ggnewscale/" class="external-link">ggnewscale</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="intro">Intro<a class="anchor" aria-label="anchor" href="#intro"></a>
</h2>
<p><strong>A</strong>utomated <strong>R</strong>ecognition of
<strong>Co</strong>llective <strong>S</strong>ignalling (ARCOS) is an <a href="https://www.r-project.org" class="external-link">R</a> package to identify collective
spatial events in time series data. The associated publication is
available on <a href="https://www.biorxiv.org/content/10.1101/2022.07.12.499734v1" class="external-link">bioRxiv</a>.</p>
<p>The software identifies and visualises collective protein activation
in 2- and 3D cell cultures over time. Such collective waves have been
recently identified in various biological systems. They have been
demonstrated to play an important role in the maintenance of epithelial
homeostasis (<a href="https://doi.org/10.1016/j.devcel.2021.05.007" class="external-link">Gagliardi et al.,
2020</a>, <a href="https://doi.org/10.1016/j.cub.2019.11.089" class="external-link">Takeuchi
et al., 2020</a>, <a href="https://doi.org/10.7554/eLife.60541" class="external-link">Aikin et
al., 2020</a>), in the acinar morphogenesis (<a href="https://doi.org/10.1101/2020.11.20.387167" class="external-link">Ender et al.,
2020</a>), osteoblast regeneration (<a href="https://doi.org/10.1038/s41586-020-03085-8" class="external-link">De Simone et al.,
2021</a>), and in the coordination of collective cell migration (<a href="https://doi.org/10.1016/j.devcel.2017.10.016" class="external-link">Aoki et al.,
2017</a>, <a href="https://doi.org/10.1016/j.devcel.2020.05.011" class="external-link">Hino et
al., 2020</a>).</p>
<div class="figure">
<img src="resources/VideoS9_relativeto4D.png" alt=""><p class="caption">Collective ERK activation due to apoptosis in MCF10A
WT cells</p>
</div>
<p>Despite its focus on cell signalling, the framework can be also
applied to other spatially correlated phenomena that occur over time in
an arbitrary spatial dimension.</p>
<div class="section level3">
<h3 id="implementations">Implementations<a class="anchor" aria-label="anchor" href="#implementations"></a>
</h3>
<p>This repository covers the R implementation. For other
implementations check:</p>
<ul>
<li>
<a href="https://github.com/bgraedel/arcos4py" class="external-link">arcos4py</a>, a
Python implementation written by Benjamin Grädel.</li>
<li>
<a href="https://github.com/bgraedel/arcos-gui" class="external-link">arcos-gui</a>, a
plugin with GUI for <a href="https://napari.org" class="external-link">napari</a> image
viewer; written by Benjamin Grädel. See a YouTube <a href="https://www.youtube.com/watch?v=hG_z_BFcAiQ" class="external-link">demo</a>.</li>
</ul>
<p>Documentation for the entire ARCOS project can be found on <a href="https://arcos.gitbook.io/home/" class="external-link">gitbook</a>.</p>
<div class="figure">
<img src="resources/README-napari-gui-3D.png" alt=""><p class="caption">arcos-gui plugin for napari image viewer</p>
</div>
</div>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>You can install the development version from <a href="https://github.com/dmattek/ARCOS" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"dmattek/ARCOS"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-algorithm">The algorithm<a class="anchor" aria-label="anchor" href="#the-algorithm"></a>
</h3>
<p>The algorithm implemented in the <code><a href="../reference/trackColl.html">ARCOS::trackColl</a></code>
function consists of two steps:</p>
<ol style="list-style-type: decimal">
<li>In every frame, objects are clustered with the <a href="https://en.wikipedia.org/wiki/DBSCAN" class="external-link">dbscan</a> algorithm.</li>
<li>Clusters are linked between the frames if objects that comprise the
cluster are within a threshold distance.</li>
</ol>
<p>The <code><a href="https://rdrr.io/pkg/RANN/man/nn2.html" class="external-link">RANN::nn2</a></code> <a href="https://www.rdocumentation.org/packages/RANN/versions/2.6.1/topics/nn2" class="external-link">function</a>
is used to calculate nearest neighbour distances. The
<code><a href="https://rdrr.io/pkg/dbscan/man/dbscan.html" class="external-link">dbscan::dbscan</a></code> <a href="https://www.rdocumentation.org/packages/dbscan/versions/1.1-6/topics/dbscan" class="external-link">function</a>
is used for spatial clustering.</p>
<div class="figure">
<img src="resources/ARCOS-algorithmOnSingleEvent.png" alt=""><p class="caption">ARCOS algorithm on a single event</p>
</div>
<p>The flowchart of the algorithm:</p>
<div class="figure">
<img src="resources/ARCOS-algoFlow.drawio.png" alt=""><p class="caption">ARCOS algorithm flowchart</p>
</div>
</div>
<div class="section level3">
<h3 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h3>
<p><strong>Main functions</strong>:</p>
<ul>
<li>
<code>arcosTS</code> creates an arcosTS object from time series data
in long format stored in a <code>data.table</code>. Assigns relevant
column names and data parameters.</li>
<li>
<code>trackColl</code> identifies and tracks collective events.</li>
</ul>
<p><strong>Visualisation functions</strong>:</p>
<ul>
<li>
<code>plotTracks</code> plots a random selection of tracks in 1 or
2D.</li>
<li>
<code>plotNoodle2D</code> creates a noodle/spaghetti plot; a single
position coordinate is plotted over time for objects during their
participation in collective events.</li>
<li>
<code>runCollVis</code> visualises collective events in an
interactive shiny app.</li>
</ul>
<p><strong>Post-processing</strong>:</p>
<ul>
<li>
<code>calcNNdists</code> calculates nearest neighbour distances
between objects to give an idea about the search radius for spatial
clustering.</li>
<li>
<code>calcStatsColl</code> calculates basic statistics of collective
events such as duration and size.</li>
<li>
<code>selColl</code> selects collective events based on their
duration and size.</li>
</ul>
<p><strong>Export functions</strong>:</p>
<ul>
<li>
<code>export2napari</code> exports data as several files that can be
imported as layers into <a href="https://napari.org" class="external-link">napari</a> image
viewer.</li>
<li>
<code>savePlotColl2D</code> saves individual frames as images.</li>
</ul>
<p><strong>Measurement pre-processing</strong>:</p>
<ul>
<li>
<code>interpolMeas</code> interpolates missing data in time
series.</li>
<li>
<code>histMeas</code> plots a histogram of the measurement.</li>
<li>
<code>clipMeas</code> clips the measurement to a prescribed range or
quantiles.</li>
<li>
<code>binMeas</code> de-trends, normalises and binarises the
measurement in time series.</li>
<li>
<code>plotBinMeas</code> plots sample time series and visualises
measurement de-trending/rescaling/binarisation.</li>
<li>
<code>histTrackLen</code> plots a histogram of track lengths.</li>
<li>
<code>selTrackLen</code> selects tracks from time series data based
on their length.</li>
</ul>
<p><strong>Utility functions</strong>:</p>
<ul>
<li>
<code>is.arcosTS</code> checks whether an object is an arcosTS
object.</li>
<li>
<code>keepSignifDig</code> trims numeric columns to a prescribed
number of significant digits.</li>
<li>
<code>genSynth2D</code> generate synthetic data in 2D with a single
collective event over 8 frames.</li>
<li>
<code>genRandSynth2D</code> generate a random sequence of synthetic
collective events in 2D.</li>
<li>
<code>loadDataFromFile</code> loads time series data from a file and
returns an arcosTS object.</li>
<li>
<code>loadDataFromImages</code> loads time series data from images
and returns an arcosTS object.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="d-example">1D example<a class="anchor" aria-label="anchor" href="#d-example"></a>
</h2>
<p>Here, 4 distinct objects are moving in 1 dimension over 5 time
points. We aim to identify clusters of objects moving close to each
other.</p>
<div class="section level3">
<h3 id="time-sequence">Time sequence<a class="anchor" aria-label="anchor" href="#time-sequence"></a>
</h3>
<p>The minimal data in <a href="https://en.wikipedia.org/wiki/Wide_and_narrow_data#Narrow" class="external-link">long
format</a> consists of 3 columns:</p>
<ul>
<li>
<code>frame</code> with the frame number that corresponds to the
time point,</li>
<li>
<code>objid</code> with the unique identifier of every object,</li>
<li>
<code>x</code> with the position of the object.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dts1</span> <span class="op">=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>frame <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>                  objid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>                  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">1.2</span>, <span class="fl">2.5</span>, <span class="fl">3.5</span>, <span class="fl">0.9</span>, <span class="fl">2.6</span>, <span class="fl">2.9</span>, <span class="fl">3.2</span>, <span class="fl">1.1</span>, <span class="fl">2.8</span>, <span class="fl">3.1</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">dts1</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">frame</th>
<th align="right">objid</th>
<th align="right">x</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1.0</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">2</td>
<td align="right">3.0</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1.2</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2.5</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">3</td>
<td align="right">3.5</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">1</td>
<td align="right">0.9</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2.6</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">3</td>
<td align="right">2.9</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">4</td>
<td align="right">3.2</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">1</td>
<td align="right">1.1</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">2</td>
<td align="right">2.8</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">4</td>
<td align="right">3.1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">1</td>
<td align="right">1.0</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">4</td>
<td align="right">3.0</td>
</tr>
</tbody>
</table>
<p>Initiate an <code>arcosTS</code> object. Specify the names of frame,
object id, and positions columns. The function simply adds attributes to
the existing data.table object.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ARCOS</span><span class="fu">::</span><span class="fu"><a href="../reference/arcosTS.html">arcosTS</a></span><span class="op">(</span>dt <span class="op">=</span> <span class="va">dts1</span>, </span>
<span>               colFrame <span class="op">=</span> <span class="st">"frame"</span>, </span>
<span>               colIDobj <span class="op">=</span> <span class="st">"objid"</span>, </span>
<span>               colPos <span class="op">=</span> <span class="st">"x"</span><span class="op">)</span></span></code></pre></div>
<p>Plot the time series. Each object has a distinct identifier
represented by a different colour in the plot:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ARCOS</span><span class="fu">::</span><span class="fu"><a href="../reference/plotTracks.html">plotTracks</a></span><span class="op">(</span><span class="va">dts1</span><span class="op">)</span></span></code></pre></div>
<p><img src="ARCOS-basics_files/figure-html/unnamed-chunk-4-1.png" width="480"></p>
</div>
<div class="section level3">
<h3 id="detection-and-tracking">Detection and tracking<a class="anchor" aria-label="anchor" href="#detection-and-tracking"></a>
</h3>
<p>In this step 3 objects at the top are grouped into a single
collective event that spans 5 frames. A single object at the bottom
forms a single-object event.</p>
<p>The most important parameter of the <code>trackColl</code> function
is the search radius <code>eps</code>, which sets the distance for:</p>
<ul>
<li>the <code>dbscan</code> spatial clustering in a single time
frame,</li>
<li>linking clusters between frames; clusters in consecutive frames are
linked, if objects comprising them are within the threshold radius.</li>
</ul>
<p>The minimum size of the spatial cluster is set using the
<code>minClSz</code> parameter, which is also passed to
<code>dbscan</code>. The parameter <code>nPrev</code> determines the
number of previous frames that are searched for collective events in
order to link them to the current frame.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dcoll1</span> <span class="op">=</span> <span class="fu">ARCOS</span><span class="fu">::</span><span class="fu"><a href="../reference/trackColl.html">trackColl</a></span><span class="op">(</span><span class="va">dts1</span><span class="op">)</span></span></code></pre></div>
<p>The output contains 3 columns with the frame number, object
identifier, and the calculated identifier of the collective event:</p>
<table class="table">
<thead><tr class="header">
<th align="right">frame</th>
<th align="right">objid</th>
<th align="right">collid.frame</th>
<th align="right">collid</th>
<th align="right">x</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1.0</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">3.0</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">1.2</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">2</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">2.5</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">3</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">3.5</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="right">0.9</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">2</td>
<td align="right">6</td>
<td align="right">2</td>
<td align="right">2.6</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">3</td>
<td align="right">6</td>
<td align="right">2</td>
<td align="right">2.9</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">4</td>
<td align="right">6</td>
<td align="right">2</td>
<td align="right">3.2</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">1</td>
<td align="right">7</td>
<td align="right">1</td>
<td align="right">1.1</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="right">2</td>
<td align="right">2.8</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">4</td>
<td align="right">8</td>
<td align="right">2</td>
<td align="right">3.1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">1</td>
<td align="right">9</td>
<td align="right">1</td>
<td align="right">1.0</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">4</td>
<td align="right">10</td>
<td align="right">2</td>
<td align="right">3.0</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="visualisation">Visualisation<a class="anchor" aria-label="anchor" href="#visualisation"></a>
</h3>
<p>Each trace is assigned an identifier of the collective event, which
is represented by the shape of the point in the plot:</p>
<p><img src="ARCOS-basics_files/figure-html/unnamed-chunk-7-1.png" width="480"></p>
<p>The algorithm with the default search radius <code>eps=1.0</code> has
identified two collective events. One is an event with only a single
object, the latter is an event that consists of 1 to 3 objects at
different points in time.</p>
</div>
</div>
<div class="section level2">
<h2 id="d-example-1">2D example<a class="anchor" aria-label="anchor" href="#d-example-1"></a>
</h2>
<p>The following synthetic dataset contains 81 objects (e.g., biological
cells) spaced on a 2D 9x9 lattice with a spacing of 1x1 length units.
Each object has an ID (column <code>id</code>) and can assume values 0
and 1 (column <code>m</code>), which correspond to an <em>inactive</em>
and <em>active</em> state. The evolution of active states takes place
over 8 consecutive time points (column <code>t</code>). Each object
wiggles slightly around its position.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate a synthetic dataset with a single event evolving over 8 frames</span></span>
<span><span class="va">dts2</span> <span class="op">=</span> <span class="fu">ARCOS</span><span class="fu">::</span><span class="fu"><a href="../reference/genSynth2D.html">genSynth2D</a></span><span class="op">(</span>inSeed <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dts2</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">t</th>
<th align="right">x</th>
<th align="right">y</th>
<th align="right">m</th>
<th align="right">id</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">0.23</td>
<td align="right">-0.16</td>
<td align="right">0</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">0.88</td>
<td align="right">-0.12</td>
<td align="right">0</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">1.93</td>
<td align="right">0.08</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">2.96</td>
<td align="right">0.19</td>
<td align="right">0</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">3.90</td>
<td align="right">-0.04</td>
<td align="right">0</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">4.91</td>
<td align="right">0.07</td>
<td align="right">0</td>
<td align="right">6</td>
</tr>
</tbody>
</table>
<p>In the plot below, grey circles correspond to inactive and black to
active states of cells and their collective activation (<em>wave</em>)
develops over 8 time points.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span> <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">dts2</span>,</span>
<span>            <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>,</span>
<span>                y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grey80"</span>,</span>
<span>                                <span class="st">"grey20"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">t</span>, ncol <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_fixed</a></span><span class="op">(</span>ratio<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span></span></code></pre></div>
<p><img src="ARCOS-basics_files/figure-html/unnamed-chunk-9-1.png" width="960"></p>
<div class="section level3">
<h3 id="identify-collective-events">Identify collective events<a class="anchor" aria-label="anchor" href="#identify-collective-events"></a>
</h3>
<p>The following R code will identify the collective event and store the
result in a <code>dcoll</code> variable. We are interested in a
collective event comprised of <em>active</em> objects, hence we select
rows with <code>m &gt; 0</code>. The parameter <code>eps</code> sets the
threshold radius for the spatial clustering (<code>dbscan</code>
algorithm). Here, we set <code>eps = 2</code>, which is enough to find
all the nearest active objects in the cluster, given the 1x1 horizontal
and vertical spacing of objects in the lattice.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Track collective events</span></span>
<span><span class="va">dcoll2</span> <span class="op">=</span> <span class="fu">ARCOS</span><span class="fu">::</span><span class="fu"><a href="../reference/trackColl.html">trackColl</a></span><span class="op">(</span><span class="va">dts2</span><span class="op">[</span><span class="va">m</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">]</span>, </span>
<span>                          eps <span class="op">=</span> <span class="fl">2.</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dcoll2</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">t</th>
<th align="right">id</th>
<th align="right">collid.frame</th>
<th align="right">collid</th>
<th align="right">x</th>
<th align="right">y</th>
<th align="right">m</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">2</td>
<td align="right">41</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4.16</td>
<td align="right">3.91</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">32</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">3.89</td>
<td align="right">2.99</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">40</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">3.09</td>
<td align="right">4.19</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">41</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">4.00</td>
<td align="right">3.96</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">42</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">5.06</td>
<td align="right">4.06</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">50</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">3.84</td>
<td align="right">4.91</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>The <code>dcoll</code> table contains the results of spatio-temporal
clustering. Column <code>collid</code> stores a unique identifier of
collective event. The <code>collid.frame</code> column stores an
identifier of collective event that is unique only within a frame.</p>
</div>
<div class="section level3">
<h3 id="visualise-events">Visualise events<a class="anchor" aria-label="anchor" href="#visualise-events"></a>
</h3>
<p>For better visualisation, we add convex hulls around collective
events using the <code>chull</code> function from the
<code>grDevices</code> package.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create convex hulls around collective events fro visualisation</span></span>
<span><span class="va">dcollch2</span> <span class="op">=</span> <span class="va">dcoll2</span><span class="op">[</span>,</span>
<span>                  <span class="va">.SD</span><span class="op">[</span><span class="fu">grDevices</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grDevices/chull.html" class="external-link">chull</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                  by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span><span class="va">t</span>,</span>
<span>                         <span class="va">collid</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<p>In the following plot, objects that participate in collective events
are indicated by red dots. The red polygon indicates a convex hull.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p2</span> <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">dts2</span>,</span>
<span>            <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>,</span>
<span>                y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grey80"</span>,</span>
<span>                                <span class="st">"grey20"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggnewscale</span><span class="fu">::</span><span class="fu"><a href="https://eliocamp.github.io/ggnewscale/reference/new_scale.html" class="external-link">new_scale_color</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dcoll2</span>,</span>
<span>             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">collid</span><span class="op">)</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html" class="external-link">geom_polygon</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dcollch2</span>,</span>
<span>               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">collid</span><span class="op">)</span><span class="op">)</span>,</span>
<span>               fill <span class="op">=</span> <span class="cn">NA</span>, </span>
<span>               size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">t</span>, ncol <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_fixed</a></span><span class="op">(</span>ratio<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please use `linewidth` instead.</span></span>
<span></span>
<span><span class="va">p2</span></span></code></pre></div>
<p><img src="ARCOS-basics_files/figure-html/unnamed-chunk-12-1.png" width="960"></p>
</div>
<div class="section level3">
<h3 id="spaghettinoodle-plot">Spaghetti/noodle plot<a class="anchor" aria-label="anchor" href="#spaghettinoodle-plot"></a>
</h3>
<p>Spaghetti/noodle plot is another useful visualisation of collective
events. A single position of cell tracks is plotted over time, however
cells tracks are plotted only when objects/cells participate in the
collective event.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ARCOS</span><span class="fu">::</span><span class="fu"><a href="../reference/plotNoodle2D.html">plotNoodle2D</a></span><span class="op">(</span><span class="va">dcoll2</span>, style <span class="op">=</span> <span class="st">'both'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Time [frames]"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Position X [au]"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ARCOS-basics_files/figure-html/unnamed-chunk-13-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="extract-measurements">Extract measurements<a class="anchor" aria-label="anchor" href="#extract-measurements"></a>
</h3>
<div class="section level4">
<h4 id="growth-over-time">Growth over time<a class="anchor" aria-label="anchor" href="#growth-over-time"></a>
</h4>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dcoll2growth</span> <span class="op">=</span> <span class="fu"><a href="../reference/calcGrowthColl.html">calcGrowthColl</a></span><span class="op">(</span><span class="va">dcoll2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">dcoll2growth</span>,</span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">tevent</span>,</span>
<span>           y <span class="op">=</span> <span class="va">diam</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Time of the event [frames]"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Diameter [au]"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="ARCOS-basics_files/figure-html/unnamed-chunk-14-1.png" width="480">
### Size &amp; duration</p>
<p>Extract duration (<code>totDur</code>), total number of unique
objects involved in the event (<code>totSz</code>), the smallest and
largest number of objects in the event (<code>minSz</code> &amp;
<code>maxSz</code>).</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="../reference/calcStatsColl.html">calcStatsColl</a></span><span class="op">(</span><span class="va">dcoll2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">collid</th>
<th align="right">clDur</th>
<th align="right">totSz</th>
<th align="right">minSz</th>
<th align="right">maxSz</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">1</td>
<td align="right">7</td>
<td align="right">27</td>
<td align="right">1</td>
<td align="right">18</td>
</tr></tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="save-frames">Save frames<a class="anchor" aria-label="anchor" href="#save-frames"></a>
</h3>
<p>The code below saves individual time frames with the field of view as
<code>png</code> files in the <code>frames</code> folder located in the
current working directory.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ARCOS</span><span class="fu">::</span><span class="fu"><a href="../reference/savePlotColl2D.html">savePlotColl2D</a></span><span class="op">(</span><span class="va">dts2</span>, <span class="va">dcoll2</span>, </span>
<span>                      outdir <span class="op">=</span> <span class="st">"./frames"</span>,</span>
<span>                      xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">.5</span>,<span class="fl">9</span><span class="op">)</span>,</span>
<span>                      ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">.5</span>,<span class="fl">9</span><span class="op">)</span>,</span>
<span>                      plotwh <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">3</span><span class="op">)</span>,</span>
<span>                      imtype <span class="op">=</span> <span class="st">"png"</span><span class="op">)</span></span></code></pre></div>
<p>Individual files can be later combined into a movie using software
such as <a href="http://ffmpeg.org" class="external-link">ffmpeg</a>.</p>
<p>For example, if you have <code>ffmpeg</code> installed on your
system, create an <code>mp4</code> movie at 2 frames/second and a
520x420 pixel resolution by typing the following line in the command
line:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ffmpeg</span> <span class="at">-framerate</span> 2 <span class="at">-i</span> <span class="st">"frames/F%04d.png"</span> <span class="at">-vcodec</span> libx264 <span class="at">-s</span> 560x420 <span class="at">-pix_fmt</span> yuv420p frames-all.mp4</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="visualise-interactively">Visualise interactively<a class="anchor" aria-label="anchor" href="#visualise-interactively"></a>
</h3>
<p>Interactive visualisation with an accompanying shiny app located in
<code>inst/shiny-examples/collVisApp</code>.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com" class="external-link">plotly</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">RColorBrewer</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ARCOS</span><span class="fu">::</span><span class="fu"><a href="../reference/runCollVis.html">runCollVis</a></span><span class="op">(</span><span class="va">dts2</span>, <span class="va">dcoll2</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Maciej Dobrzyński.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
